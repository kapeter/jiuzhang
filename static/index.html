<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>首页 - 九樟学社</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	
	<link rel="stylesheet" type="text/css" href="assets/css/swiper.min.css">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="full-page" id="page">
		<header class="header">
			<div class="container">
				<h1 class="brand"><a href="#">KAPETER</a></h1>
				<div class="header-bars">
					<div class="search-bars">
						<input id='search-box'  class="search-box" type="text" name="search" placeholder="Search…">
						<i id='search-btn' class="iconfont">&#xe600;</i>
					</div>
					<div class="nav-toggle">
						<div class="nav-bars">
							<span class="bar"></span>
							<span class="bar"></span>
							<span class="bar"></span>
						</div>					
					</div>
				</div>
			</div>
		</header>
		<div class="swiper-container swiper-a">
		    <div class="swiper-wrapper">
		        <div class="swiper-slide">
		        	<div class="swiper-images" style="background:url('assets/images/index-1.jpg') no-repeat; background-size: cover;">
		        		<div class="project-box">
		        			<h2>Wrighting <span class="detail-btn"><a href="#">View Detail</a></span></h2>
		        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
		        		</div>
		        		<div class="project-cover"></div>
		        	</div>
		        </div>
		        <div class="swiper-slide">
		        	<div class="swiper-images" style="background:url('assets/images/index-2.jpg') no-repeat; background-size: cover;">
		        		<div class="project-box">
		        			<h2>Wrighting <span class="detail-btn"><a href="#">View Detail</a></span></h2>
		        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
		        		</div>
		        		<div class="project-cover"></div>
		        	</div>
		        </div>
		        <div class="swiper-slide">
		        	<div class="swiper-images" style="background:url('assets/images/index-3.jpg') no-repeat; background-size: cover;">
		        		<div class="project-box">
		        			<h2>Wrighting <span class="detail-btn"><a href="#">View Detail</a></span></h2>
		        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
		        		</div>
		        		<div class="project-cover"></div>
		        	</div>
		        </div>
		        <div class="swiper-slide">
		        	<div class="swiper-images" style="background:url('assets/images/index-4.jpg') no-repeat; background-size: cover;">
		        		<div class="project-box">
		        			<h2>未来的事 <span class="detail-btn"><a href="#">View Detail</a></span></h2>
		        			<p>在一回首间，才忽然发现，原来，我一生的种种努力，不过只为了周遭的人对我满意而已。为了搏得他人的称许与微笑，我战战兢兢地将自己套入所有的模式所有的桎梏。走到途中才忽然发现，我只剩下一副模糊的面目，和一条不能回头的路。在一回首间，才忽然发现，原来，我一生的种种努力，不过只为了周遭的人对我满意而已。为了搏得他人的称许与微笑，我战战兢兢地将自己套入所有的模式所有的桎梏。走到途中才忽然发现，我只剩下一副模糊的面目，和一条不能回头的路。</p>
		        		</div>
		        		<div class="project-cover"></div>
		        	</div>
		        </div>
		        <div class="swiper-slide">
		        	<div class="swiper-images" style="background:url('assets/images/index-5.jpg') no-repeat; background-size: cover;">
		        		<div class="project-box">
		        			<h2>Wrighting <span class="detail-btn"><a href="#">View Detail</a></span></h2>
		        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
		        		</div>
		        		<div class="project-cover"></div>
		        	</div>
		        </div>
		    </div>
		    <!-- 如果需要分页器 -->
		    <div class="swiper-pagination"></div>
		</div>
		<div class="container swiper-text-content">
			<div class="swiper-container swiper-b" id="swiper-b">
				<div class="left-mask"></div>
				<div class="right-mask"></div>
			    <div class="swiper-wrapper">
			        <div class="swiper-slide">
	        			<h2>Wrighting</h2>
	        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
			        </div>
			        <div class="swiper-slide">
	        			<h2>Wrighting</h2>
	        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
			        </div>
			        <div class="swiper-slide">
	        			<h2>Wrighting</h2>
	        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
			        </div>
			        <div class="swiper-slide">
	        			<h2>未来的事</h2>
	        			<p>在一回首间，才忽然发现，原来，我一生的种种努力，不过只为了周遭的人对我满意而已。为了搏得他人的称许与微笑，我战战兢兢地将自己套入所有的模式所有的桎梏。走到途中才忽然发现，我只剩下一副模糊的面目，和一条不能回头的路。在一回首间，才忽然发现，原来，我一生的种种努力，不过只为了周遭的人对我满意而已。为了搏得他人的称许与微笑，我战战兢兢地将自己套入所有的模式所有的桎梏。走到途中才忽然发现，我只剩下一副模糊的面目，和一条不能回头的路。</p>
			        </div>
			        <div class="swiper-slide">
	        			<h2>Wrighting</h2>
	        			<p>Without you?I'd be a soul without a purpose. Without you?I'd be an emotion without a heart I'm a face without expression,A heart with no beat. Without you by my side,I'm just a flame without the</p>
			        </div>
			    </div>
			    <!-- 如果需要分页器 -->
			    <div class="swiper-scrollbar"></div>
			</div>
		</div>

		<footer class="footer">
			<div class="container">
				<div class="footer-content">
					<p><a href="#">浙ICP备17012273</a></p>
				</div>
			</div>
		</footer>
	</div>
	<nav class="nav">
		<div class="frosted-glass"></div>
		<div class="container">
			<div class="nav-body">
				<p>导航栏内容，后期填充</p>
			</div>
		</div>
	</nav>
</body>
<script type="text/javascript" src="assets/js/zepto.min.js"></script>
<script type="text/javascript" src="assets/js/swiper.jquery.min.js"></script>
<script type="text/javascript" src="assets/js/touch.js"></script>
<script type="text/javascript">
	$(function () {

		$('#search-btn').on('click',function(){
			if ($('.search-bars').find('.box-active').length != 0){
				$('.search-box').removeClass('box-active');
			}else{
				$('.search-box').addClass('box-active');
			}
		});

		$('.nav-bars').on('click',function(){
			if ($('.nav-toggle').find('.nav-active').length != 0){
				$('.nav-bars').removeClass('nav-active');
				$('.nav').css('left','100%');
			}else{
				$('.nav-bars').addClass('nav-active');
				$('.nav').css('left','0%');
			}
		});

		var winW = $(window).width();

		if (winW < 1200){
		   	var mySwiper = new Swiper ('.swiper-a', {
			    loop: true,
			    // 如果需要分页器
			    pagination: '.swiper-pagination',
				width : window.innerWidth,
			    height : window.innerHeight,
				onSlideChangeEnd: function(swiper){
				    var target = $('.swiper-slide').eq(swiper.activeIndex).find('.swiper-images');
				    target.css('background-position','100% 0%');
				}
			}); 
			$('.swiper-images').height(window.innerHeight);
		   	//滑动设置
			document.getElementById('page').addEventListener('touchmove', function (event) {
				event.preventDefault();
			}, false);

		   	$('.detail-btn').each(function () {
		   		$(this).on('click',function () {
		   			if ($(this).closest('.project-box').hasClass('active')){
		   				closeBox($(this).closest('.project-box'));
		   			}else{
						openBox($(this).closest('.project-box'));   				
		   			}
		   		})
		   	})

		   	$('.swiper-slide').swipeUp(function () {
		   		if (!$(this).find('.project-box').hasClass('active')){
		   			openBox($(this).find('.project-box'));
		   		}
		   	})
		   	$('.swiper-slide').swipeDown(function () {
		   		if ($(this).find('.project-box').hasClass('active')){
		   			closeBox($(this).find('.project-box'));
		   		}
		   	})
		}else{
		   	var mySwiperA = new Swiper ('.swiper-a',{
		   		effect : 'fade',
				autoplay:5000,
				autoplayDisableOnInteraction : false,
		   	}); 
			$('.swiper-images').height(512);

		   	var mySwiperB = new Swiper ('.swiper-b', {
		        scrollbar: '.swiper-scrollbar',
		        slidesPerView: 'auto',
		        freeMode : true,
		        spaceBetween: 30,
		        grabCursor: true,
		        mousewheelControl : true,
				onScroll: function(swiper, event){
					if (mySwiperB.isBeginning){
						$('.left-mask').css('opacity','0');
					}else{
						$('.left-mask').css('opacity','1');
					}
					if (mySwiperB.isEnd){
						$('.right-mask').css('opacity','0');
					}else{
						$('.right-mask').css('opacity','1');
					}
			   	}
			}); 

			$('.swiper-b').find('.swiper-slide').each(function (index) {
				$(this).on('mouseover',function () {
					$(this).addClass('swiper-slide-move-active');
					mySwiperA.slideTo(index, 1000, false);
				});
				$(this).on('mouseout',function () {
					$(this).removeClass('swiper-slide-move-active');
				});
			});
		}
	});

   	function openBox(target) {
		var boxH = target.find('p').height() + 64;
		target.height(boxH);
		target.parent().find('.project-cover').height(boxH);
		target.addClass('active');	
		target.find('.detail-btn').find('a').html('Hide Detail');
   	}

   	function closeBox(target) {
   		target.height(96);
   		target.parent().find('.project-cover').height(100);
   		target.removeClass('active');	
   		target.find('.detail-btn').find('a').html('View Detail');
   	}
</script>
</html>